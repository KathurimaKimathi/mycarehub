enum PractitionerCadre {
  DOCTOR
  CLINICAL_OFFICER
  NURSE
}

enum FivePointRating {
  POOR
  UNSATISFACTORY
  AVERAGE
  SATISFACTORY
  EXCELLENT
}

enum Gender {
  male
  female
  other
  unknown
}

input PractitionerSignupInput {
  license: String!
  cadre: PractitionerCadre!
  specialty: PractitionerSpecialty!
  emails: [String] # optional
}

type Practitioner {
  profile: UserProfile!
  license: String!
  cadre: PractitionerCadre!
  specialty: PractitionerSpecialty!
  professionalProfile: Markdown!
  averageConsultationPrice: Float!
}

type PractitionerEdge {
  cursor: String
  node: Practitioner
}

type PractitionerConnection {
  edges: [PractitionerEdge]
  pageInfo: PageInfo!
}

type Cover {
  payerName: String!
  payerSladeCode: Int!
  memberNumber: String!
  memberName: String!
}

type UserProfile {
  uid: String!
  isApproved: Boolean!
  termsAccepted: Boolean!
  msisdns: [String!]!
  emails: [String!]!
  photoBase64: String!
  photoContentType: ContentType!
  pushTokens: [String!]!
  covers: [Cover!]!
  isTester: Boolean!

  # optional fields
  dateOfBirth: Date
  gender: Gender
  patientID: String
  name: String
  bio: String
  practitionerApproved: Boolean
  practitionerTermsOfServiceAccepted: Boolean
  canExperiment:Boolean
}

input UserProfileInput {
  photoBase64: String!
  photoContentType: ContentType!
  msisdns: [UserProfilePhone!]!
  emails: [String!]!
  pushTokens: [String]

  # optional fields
  dateOfBirth: Date
  gender: Gender
  name: String
  bio: String
  practitionerApproved: Boolean
  practitionerTermsOfServiceAccepted: Boolean
  canExperiment:Boolean
}

input UserProfilePhone {
  phone: String!
  otp: String!
}

input PostVisitSurveyInput {
  likelyToRecommend: Int!
  criticism: String!
  suggestions: String!
}

input BiodataInput {
  dateOfBirth: Date!
  gender: Gender!
  name: String
  bio: String
}

type TesterWhitelist {
  email: String!
}

extend type Query {
  userProfile: UserProfile!
  healthcashBalance: Decimal!
  getProfile(uid: String!): UserProfile!
  listTesters: [String!]!
}

extend type Mutation {
  confirmEmail(email: String!): UserProfile!
  acceptTermsAndConditions(accept: Boolean!): Boolean!
  updateUserProfile(input: UserProfileInput!): UserProfile!
  practitionerSignUp(input: PractitionerSignupInput!): Boolean!
  updateBiodata(input: BiodataInput!): UserProfile!
  registerPushToken(token: String!): Boolean!
  completeSignup: Decimal!
  recordPostVisitSurvey(input: PostVisitSurveyInput!): Boolean!
  addTester(email: String!): Boolean!
  removeTester(email: String!): Boolean!
}
